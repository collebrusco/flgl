
CMFLAGS=$(shell if [ "$$OS" = "Windows_NT" ]; then "-G \"MinGW Makefiles\"" else "" fi)

.PHONY: default
default:
	mkdir -p build
	cd build && \
	cmake $(CMFLAGS) .. && \
	make

db:
	mkdir -p build
	cd build && \
	cmake $(CMFLAGS) -DCMAKE_BUILD_TYPE=Debug .. && \
	make

.PHONY: c
c: cm
	rm -rf ./build/CMakeFiles/untitled.dir/src/

.PHONY: cm
cm:
	rm -f ./build/CMakeCache.txt
	rm -f ./build/cmake_install.cmake
	rm -f ./build/cmake_install.local.cmake
	rm -f ./build/packaging.json
	rm -f ./build/compile_commands.json


.PHONY: ca
ca:
	rm -rf ./build/
	
.PHONY: r
r: default
	./build/untitled
